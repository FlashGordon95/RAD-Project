<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
		  xmlns:h="http://xmlns.jcp.org/jsf/html"
		  xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	  	  xmlns:f="http://xmlns.jcp.org/jsf/core"
      >
<h:head>
    <title>Garage - Add Vehicle</title>
    
   
</h:head>
<h:body>
 <h1>Add Vehicle</h1>
 		<!-- If we encounter an SQL Exception when trying to submit. Show the user the error -->
		<h:messages globalOnly="true" style="color: red"/>
		<h:form>
		<!-- The Manufacturer Code, code and name field are required for input and will prompt if no input -->
			Registration: <h:inputText id="vehicle_reg" required="true" requiredMessage="Registration is mandatory!" 
							   value="#{vehicle.reg}" p:placeholder=""/>
			 <h:message for="vehicle_reg" style = "red"/>	
			 <br/><br/>	
			Manufacturer Code: <h:inputText id="manu_code" required="true" requiredMessage="Manufacturer code is mandatory!" 
							   value="#{vehicle.manu_code}" p:placeholder="e.g : TOY"/>
			 <h:message for="manu_code" style = "red"/>		
			 <br/><br/>   
			Code: <h:inputText id="model_code" required="true" requiredMessage="Model code is mandatory!" 
							   value="#{vehicle.model_code}" p:placeholder="e.g : COR"/>
		    <h:message for="model_code" style = "red"/>
		   
		    <br/><br/>
		    Mileage: <h:inputText id="vehicle_mileage" 
							   value="#{vehicle.mileage}" p:placeholder=""/>
		    <h:message for="vehicle_mileage" style = "red"/>
		    <br/><br/>
		    Price: <h:inputText id="vehicle_price" value="#{vehicle.price}" required="true" requiredMessage="Price is mandatory"
		    						  p:placeholder="Enter price"/>
		    <h:message for="vehicle_price" style="red"/>
		    <br/><br/>
		    Colour: <h:inputText id="vehicle_colour" value="#{vehicle.colour}" 
		    						  p:placeholder="Enter price"/>
		    <h:message for="vehicle_colour" style="red"/>
		    <br/><br/>
		    Fuel: <h:selectOneMenu id = "fuel" value = "#{vehicle.fuel}">
		    	<f:selectItem itemValue="1" itemLabel="petrol" />
		    	<f:selectItem itemValue="2" itemLabel="diesel" />
		    </h:selectOneMenu>
		    <br/><br/>
		    <!-- Attempt to add our object to the DB. Will either redirect to the manufacturers page or throw an error to user on screen -->
			<h:commandButton value="Add Vehicle"
			action="#{vehicleController.addVehicle(vehicle)}" />
			
			<br/>
			<h:link value="Back to Home" outcome="index"/>			
		</h:form>
</h:body>
</html>